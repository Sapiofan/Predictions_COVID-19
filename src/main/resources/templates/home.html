<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistics</title>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">

    <style type="text/css">
        table {
            border-collapse: collapse;
            border: 2px black solid;
            font: 12px sans-serif;
        }

        td {
            border: 1px black solid;
            padding: 5px;
        }
        .container-area {
            width: 700px;
            height: 500px;
        }
        html,
        body,
        #column-chart,
        #line-chart {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

    </style>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <meta name="description" content="COVID-19 Statistic"/>

    <meta property="og:title" content="Covid-19"/>
    <meta property="og:type" content="website"/>
    <link rel="icon" th:href="@{/img/virus.png}">

    <link th:href="@{/css/general.css}" rel="stylesheet" />
    <link th:href="@{/css/world.css}" rel="stylesheet" />

    <title>World data COVID-19</title>
</head>
<body>
<div th:insert="header :: header"></div>
<article>
    <section id="brief">
        <p class="details">For last 90 days, there have been confirmed <span class="orange">1 000 000 cases</span>
            of <span class="green">COVID-19</span> and <span class="red">10 000 deaths</span>.
            For the next 30 days have been predicted approximately
            <span class="orange">100 000 new cases</span> and <span class="red">1 000 new deaths</span>.</p>
    </section>
    <section id="charts">
        <div class="flex-wrapper">
            <h3 class="dark-blue">World situation</h3>
            <div class="row">
                <div class="toggle-button-cover">
                    <div class="button-cover">
                        <div class="button b2" id="button-11">
                            <input type="checkbox" class="checkbox">
                            <div class="knobs">
                                <span>New</span>
                            </div>
                            <div class="layer"></div>
                        </div>
                    </div>
                </div>
                <div class="toggle-button-cover">
                    <div class="button-cover">
                        <div class="button b2" id="button-12">
                            <input type="checkbox" class="checkbox">
                            <div class="knobs">
                                <span>Daily</span>
                            </div>
                            <div class="layer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="charts">
            <div class="cases-data flex-wrapper">
                <div class="info dark-blue">
                    <h1 class="cases">1000000</h1>
                    <h4>Confirmed cases</h4>
                    <h1 class="cases">10000</h1>
                    <h4>Predicted cases</h4>
                </div>
                <div class="container-area">
                    <div id="line-chart"></div>
                </div>
            </div>
        </div>
        <div class="flex-wrapper">
            <div class="death-data">
                <div class="info dark-blue">
                    <h1 class="cases">1000000</h1>
                    <h4>Deaths</h4>
                    <h1 class="cases">10000</h1>
                    <h4>Predicted deaths</h4>
                </div>
            </div>
            <div class="container-area">
                <div id="column-chart"></div>
            </div>
        </div>
        </div>
    </section>

    <section id="regions">
        <h1 class="regions-header">Situation by region</h1>
        <div class="region-filters">
            <div class="toggle-button-cover">
                <div class="button-cover">
                    <div class="button b2" id="button-14">
                        <input type="checkbox" class="checkbox">
                        <div class="knobs">
                            <span>New</span>
                        </div>
                        <div class="layer"></div>
                    </div>
                </div>
            </div>
            <div class="toggle-button-cover">
                <div class="button-cover">
                    <div class="button b2" id="button-15">
                        <input type="checkbox" class="checkbox">
                        <div class="knobs">
                            <span>Daily</span>
                        </div>
                        <div class="layer"></div>
                    </div>
                </div>
            </div>
            <div class="toggle-button-cover">
                <div class="button-cover">
                    <div class="button b2" id="button-16">
                        <input type="checkbox" class="checkbox">
                        <div class="knobs">
                            <span>Cases</span>
                        </div>
                        <div class="layer"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="region-row">
            <div class="region">
                <h3 class="region-name">Europe</h3>
                <p class="region-cases red">Cases: xxxxxxx</p>
                <div id="container1"></div>
            </div>
            <div class="region">
                <h3 class="region-name">Americas</h3>
                <p class="region-cases orange">Cases: xxxxxxx</p>
                <div id="container2"></div>
            </div>
        </div>
        <div class="region-row">
            <div class="region">
                <h3 class="region-name">Asia</h3>
                <p class="region-cases green">Cases: xxxxxxx</p>
                <div id="container3"></div>
            </div>
            <div class="region">
                <h3 class="region-name">Oceania</h3>
                <p class="region-cases blue">Cases: xxxxxxx</p>
                <div id="container4"></div>
            </div>
        </div>
        <div class="region-row">
            <div class="region africa">
                <h3 class="region-name">Africa</h3>
                <p class="region-cases dark-blue">Cases: xxxxxxx</p>
                <div id="container5"></div>
            </div>
        </div>
    </section>
    <p class="updating">Virus Spectator 2023. Proudly created by Oleksii Lytovchenko</p>
</article>
</body>
<script th:inline="javascript">

    /*<![CDATA[*/

    var prediction = /*[[${prediction}]]*/ 'default';
    // console.log(prediction);

    var initial = /*[[${initial}]]*/ 'default';
    // console.log(initial);

    /*]]>*/

    getData();
    function getData() {
        var array = [];
        var counter = 0;
        for (const [key, value] of Object.entries(initial)) {
            var date = [];
            date[0] = key;
            // console.log(`${key}`);
            for (const [key1, value1] of Object.entries(value)) {
                if(key1 == "World") {
                    date[1] = value1;
                    break;
                }
                // console.log(`${key1}: ${value1}`);
            }
            array[counter] = date;
            counter += 1;
        }

        // console.log(array);
        // for (const [key, value] of Object.entries(prediction)) {
        //     // var date = new Array(Object.keys(value).length);
        //     var date = [];
        //     date[0] = key.substring(0, key.length - 4);
        //     // console.log(`${key}`);
        //     for (const [key1, value1] of Object.entries(value)) {
        //         if(key1 == "World") {
        //             date[1] = value1;
        //             break;
        //         }
        //         // console.log(`${key1}: ${value1}`);
        //     }
        //     array[counter] = date;
        //     counter += 1;
        // }

        // for (let i = 0; i < array.length; i++) {
        //     console.log(array[i]);
        // }

        return array;
        // return [
        //     ['1986', 3.6, 2.3, 2.8, 11.5],
        //     ['1987', 7.1, 4.0, 4.1, 14.1],
        //     ['1988', 8.5, 6.2, 5.1, 17.5],
        //     ['1989', 9.2, 11.8, 6.5, 18.9],
        //     ['1990', 10.1, 13.0, 12.5, 20.8],
        //     ['1991', 11.6, 13.9, 18.0, 22.9],
        //     ['1992', 16.4, 18.0, 21.0, 25.2],
        //     ['1993', 18.0, 23.3, 20.3, 27.0],
        //     ['1994', 13.2, 24.7, 19.2, 26.5],
        //     ['1995', 12.0, 18.0, 14.4, 25.3],
        //     ['1996', 3.2, 15.1, 9.2, 23.4],
        //     ['1997', 4.1, 11.3, 5.9, 19.5],
        //     ['1998', 6.3, 14.2, 5.2, 17.8],
        //     ['1999', 9.4, 13.7, 4.7, 16.2],
        //     ['2000', 11.5, 9.9, 4.2, 15.4],
        //     ['2001', 13.5, 12.1, 1.2, 14.0],
        //     ['2002', 14.8, 13.5, 5.4, 12.5],
        //     ['2003', 16.6, 15.1, 6.3, 10.8],
        //     ['2004', 18.1, 17.9, 8.9, 8.9],
        //     ['2005', 17.0, 18.9, 10.1, 8.0],
        //     ['2006', 16.6, 20.3, 11.5, 6.2],
        //     ['2007', 14.1, 20.7, 12.2, 5.1],
        //     ['2008', 15.7, 21.6, 10, 3.7],
        //     ['2009', 12.0, 22.5, 8.9, 1.5]
        // ];
    }
</script>
<script type="text/javascript" th:src="@{/js/charts.js}"></script>
</html>